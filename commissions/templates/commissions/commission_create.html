{% extends 'base.html' %}

{% load static %}

{% block title %} Create Commission {% endblock %}

{% block content %}
    <h1>Create Commission</h1>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}

        <h2>Jobs</h2>
        <div id="jobs">
            <div class="job">
              <label>Role: <input type="text" name="job_role"></label>
              <label>Manpower: <input type="number" name="job_manpower"></label>
            </div>
          </div>
        <button type="button" onclick="addJobField()">Add Job</button>
        <button type="submit">Create</button>
    </form>
    <script>
        function addJobField() {
          const jobsDiv = document.getElementById('jobs');
          const newJob = document.createElement('div');
          newJob.classList.add('job');
          newJob.innerHTML = `
            <label>Role: <input type="text" name="job_role"></label>
            <label>Manpower: <input type="number" name="job_manpower"></label>
          `;
          jobsDiv.appendChild(newJob);
        }
        </script>
    <a href="{% url 'commissions:commission-list' %}">Back to List</a>
{% endblock %}